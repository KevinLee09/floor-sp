# More detailed information for Floor-SP


## Corner/edgeness modules

- We provide the pre-trained weights for the corner/edgeness module (a DRN-based neural network) and the corner-room association module. Please visit this [link](https://drive.google.com/open?id=1Rb37cQd4gey2gYWvKL94VYBuRPFqJRVX) to download them.

- `./configs/config_cornernet.yaml` is the setup for the training/inference of the corner/edgeness module. And `./configs/config_associate_module.yaml` is for the training/inference of the association module. Please do set up the `model_path` properly to make it consistent with the path where you save our pre-trained weights.

- The dataset `Lianjia_corner` and `Lianjia_room` are for corner/edgeness and room-corner association, respectively. They are generated by the Mask-RCNN part as discussed in the [main page](https://github.com/woodfrog/Lianjia-inverse-cad).

- Run the inference of the corner/edgeness module by the following command after set up the options properly in the config file `./configs/config_cornernet.yaml`. 

    ```bash
    python ./mains/corner_main.py
    ```

- After finish running the corner/edgeness module, run the inference of the room-corner association module by the following command after set up the options properly in `./configs/config_associate_module.yaml`.

    ```bash
    python ./mains/associate_main.py
    ```

## Room-wise coordinate descent + room merging
